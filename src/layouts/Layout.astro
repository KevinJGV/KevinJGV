---
import GlobalStyles from "../styles/GlobalStyles.astro";
interface Props {
    title: string;
}

const { title } = Astro.props;
---
<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width" />
        <link id="icon" rel="icon" type="image/svg+xml" href="/circle.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>
		<GlobalStyles/>
    </head>
    <body class="noise">
		<nav id="sandwich" class="pointer">
			<hr>
			<hr>
		</nav>
		<aside>
			<section id="vin" class="Alumni">
				.: VIN
			</section>
			<slot name="sidebar" />
			<section>
				<strong>â€¢</strong> Disponible
			</section>
		</aside>
        <slot name="main" />
		<slot name="footer" />
    </body>
	<script>
		const activeIcon : string = "./public/circle.svg";
		const inactiveIcon : string = "./public/cross.svg";

		function changeFavicon(iconURL: string): void {
			const favicon = document.getElementById("icon") as HTMLLinkElement;
			if (favicon) {
				favicon.href = iconURL;
			}
		}

		document.addEventListener("visibilitychange", () => {
			if (document.visibilityState === "visible") {
				changeFavicon(activeIcon);
			} else {
				changeFavicon(inactiveIcon);
			}
		});
	</script>
</html>